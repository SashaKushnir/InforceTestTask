(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{155:function(e,t,c){},156:function(e,t,c){},266:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(10),o=c.n(i),a=(c(155),c(156),c(15)),d=c(59),s=c(123),u=c(20),j=c(11),l=c.p+"static/media/img.e381ae67.png",b=c.p+"static/media/img_1.a3e226c4.png";var h={products:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],c=0;c<e;c++)t.push({id:c+1,imageUrl:l,name:"Product Name # "+(c+1),count:Math.floor(100*Math.random()),size:{width:200,height:200},weight:Math.floor(100*Math.random())+"g",comments:[{id:0,productId:c+1,description:"some text here",date:new Date}]});return t}()},O={createProductModalStatus:!1},m={},p=Object(d.b)({productsR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PUSH_PRODUCT":var c=Object(j.a)(Object(j.a)({},t.product),{},{weight:t.product.weight+"g",imageUrl:b,id:e.products.length+1,size:{width:200,height:200},comments:[]});return Object(j.a)(Object(j.a)({},e),{},{products:[].concat(Object(u.a)(e.products),[c])});case"REMOVE_PRODUCT":return Object(j.a)(Object(j.a)({},e),{},{products:Object(u.a)(e.products).filter((function(e){return e.id!==t.id}))});default:return e}},commonR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_STATUS_TOGGLE":return Object(j.a)(Object(j.a)({},e),{},{createProductModalStatus:t.status});default:return e}},productItemR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PRODUCT":return Object(j.a)(Object(j.a)({},e),{},{productItem:Object(j.a)({},t.productI)});case"REMOVE_COMMENT":return Object(j.a)(Object(j.a)({},e),{},{productItem:e.productItem?Object(j.a)(Object(j.a)({},e.productItem),{},{comments:e.productItem?Object(u.a)(e.productItem.comments).filter((function(e){return e.id!==t.commentId})):[]}):void 0});case"ADD_COMMENT":return Object(j.a)(Object(j.a)({},e),{},{productItem:e.productItem?Object(j.a)(Object(j.a)({},e.productItem),{},{comments:e.productItem?[].concat(Object(u.a)(e.productItem.comments),[Object(j.a)({},t.commentI)]):[]}):void 0});default:return e}}}),x=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):d.c)(Object(d.a)(s.a)),f=Object(d.d)(p,x),g=c(13),v=c(294),C=c(297),w=c(299),S=c(60),_=c(129),I=c.n(_),E=c(300),T=function(e){return{type:"MODAL_STATUS_TOGGLE",status:e}},M=c(32),y=c(128),R=c.n(y),N=c(2),D=Object(v.a)((function(){return{typographyStyles:{flex:1},whiteColored:{color:"white"}}})),P=function(){var e=Object(a.b)(),t=D(),c=window.location.href;return Object(N.jsx)(C.a,{position:"static",children:Object(N.jsxs)(w.a,{children:[!c.includes("/products")&&Object(N.jsx)(M.b,{to:"/content/products",children:Object(N.jsx)(E.a,{color:"inherit",children:Object(N.jsx)(R.a,{className:t.whiteColored})})}),Object(N.jsx)(S.a,{className:t.typographyStyles,children:Object(N.jsx)("span",{children:"Product site header"})}),Object(N.jsxs)("span",{onClick:function(){e(T(!0))},children:[Object(N.jsx)(E.a,{color:"inherit",size:"small",children:"Create new product"}),"    ",Object(N.jsx)(E.a,{color:"inherit",children:Object(N.jsx)(I.a,{color:"inherit"})})]})]})})},A=c(130),U=c.n(A),L=c(301),B=c(302),k=c(303),q=c(313),V=c(304),F=c(305),W=c(306),z=c(307),G=function(e){return{type:"PUSH_PRODUCT",product:e}},H=function(e){return{type:"REMOVE_PRODUCT",id:e}},X=function(e){return{type:"SET_CURRENT_PRODUCT",productI:e}},$=function(e){return{type:"REMOVE_COMMENT",commentId:e}},J=function(e){return{type:"ADD_COMMENT",commentI:e}},K=Object(v.a)({textAligning:{textAlign:"center"}}),Q=function(e){var t=e.productI,c=K(),n=Object(a.b)(),r=Object(g.g)();return Object(N.jsx)(L.a,{item:!0,xs:12,sm:6,md:4,children:Object(N.jsxs)(B.a,{children:[Object(N.jsx)(k.a,{avatar:Object(N.jsx)(q.a,{"aria-label":"recipe",src:l}),action:Object(N.jsx)(E.a,{"aria-label":"settings",onClick:function(){n(H(t.id))},children:Object(N.jsx)(U.a,{})}),title:t.name,subheader:t.weight}),Object(N.jsx)(V.a,{style:{height:"150px"},image:t.imageUrl,title:t.name}),Object(N.jsx)(F.a,{children:Object(N.jsxs)(S.a,{children:["Amount: ",t.count]})}),Object(N.jsx)(W.a,{className:c.textAligning,children:Object(N.jsxs)(L.a,{container:!0,children:[Object(N.jsx)(L.a,{item:!0,xs:4}),Object(N.jsx)(L.a,{item:!0,xs:4,children:Object(N.jsx)(z.a,{className:c.textAligning,variant:"outlined",size:"small",onClick:function(){n(X(t)),r.push("/content/productItem/"+t.id)},children:"show info"})}),Object(N.jsx)(L.a,{item:!0,xs:4})]})})]})})},Y=function(){var e=Object(a.c)((function(e){return e.productsR.products})).map((function(e,t){return Object(N.jsx)(Q,{productI:e},t)}));return Object(N.jsx)("div",{children:Object(N.jsx)(L.a,{container:!0,spacing:2,children:e})})},Z=c(25),ee=c(310),te=c(312),ce=c(309),ne=c(308),re=c(76),ie=c(39),oe=Object(v.a)({toCenter:{textAlign:"center"},toCenterButton:{textAlign:"center",padding:"1%"}}),ae=function(){var e=Object(a.c)((function(e){return e.commonR.createProductModalStatus})),t=r.a.useState(!1),c=Object(Z.a)(t,2),i=c[0],o=c[1],d=Object(a.b)(),s=oe(),u=function(){o(!1),d(T(!1))};Object(n.useEffect)((function(){e&&o(!0)}),[e]);var j=ie.a().shape({name:ie.b().required("Required").min(2,"Too Short").matches(/^\S.{0,48}\S$/,"don't start or end with space").max(50,"Too long"),count:ie.b().required("Required").max(10,"Too Long!").matches(/^[0-9]$/,"only numbers!"),weight:ie.b().required("Required").max(10,"Too Long!").matches(/^\d+$/,"only numbers!")}),l=Object(re.a)({initialValues:{name:"",count:1,weight:1e3},validationSchema:j,onSubmit:function(e){console.log(e),d(G(e)),u()}});return Object(N.jsx)("div",{children:Object(N.jsxs)(te.a,{open:i,onClose:u,"aria-labelledby":"form-dialog-title",children:[Object(N.jsx)(ne.a,{className:s.toCenter,id:"form-dialog-title",children:"Creating new product"}),Object(N.jsx)(ce.a,{children:Object(N.jsxs)("form",{onSubmit:l.handleSubmit,children:[Object(N.jsx)(ee.a,{fullWidth:!0,id:"name",name:"name",label:"name",value:l.values.name,onChange:l.handleChange,error:l.touched.name&&Boolean(l.errors.name),helperText:l.touched.name&&l.errors.name}),Object(N.jsx)(ee.a,{fullWidth:!0,id:"count",name:"count",label:"Count",value:l.values.count,onChange:l.handleChange,error:l.touched.count&&Boolean(l.errors.count),helperText:l.touched.count&&l.errors.count}),Object(N.jsx)(ee.a,{fullWidth:!0,id:"weight",name:"weight",label:"Weight",value:l.values.weight,onChange:l.handleChange,error:l.touched.weight&&Boolean(l.errors.weight),helperText:l.touched.weight&&l.errors.weight}),Object(N.jsx)("div",{className:s.toCenterButton,children:Object(N.jsx)(z.a,{variant:"outlined",color:"primary",type:"submit",children:"Submit"})})]})})]})})},de=c(77),se=c.n(de),ue=Object(v.a)({toCenter:{textAlign:"center"},toCenterButton:{textAlign:"center",padding:"1%"}}),je=function(e){var t=e.modalMode,c=e.setModalMode,i=e.commentsLength,o=e.productId,d=r.a.useState(t),s=Object(Z.a)(d,2),u=s[0],j=s[1],l=Object(a.b)(),b=ue(),h=function(){j(!1),c(!1)};Object(n.useEffect)((function(){t&&j(!0)}),[t]);var O=ie.a().shape({description:ie.b().required("Required")}),m=Object(re.a)({initialValues:{description:""},validationSchema:O,onSubmit:function(e){console.log(e);var t,c={id:i,productId:o,description:e.description,date:new Date};l((t=c,function(e,c){e(J(t)),c().productsR.products.forEach((function(e){e.id===t.productId&&e.comments.push(t)}))})),h()}});return Object(N.jsx)("div",{children:Object(N.jsxs)(te.a,{open:u,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(N.jsx)(ne.a,{className:b.toCenter,id:"form-dialog-title",children:"Creating new product"}),Object(N.jsx)(ce.a,{children:Object(N.jsxs)("form",{onSubmit:m.handleSubmit,children:[Object(N.jsx)(ee.a,{fullWidth:!0,id:"description",name:"description",label:"Description",value:m.values.description,onChange:m.handleChange,error:m.touched.description&&Boolean(m.errors.description),helperText:m.touched.description&&m.errors.description}),Object(N.jsx)("div",{className:b.toCenterButton,children:Object(N.jsx)(z.a,{variant:"outlined",color:"primary",type:"submit",children:"Submit"})})]})})]})})},le=function(){var e,t,c,r,i,o=Object(n.useState)(!1),d=Object(Z.a)(o,2),s=d[0],u=d[1],l=Object(g.h)(),b=Object(a.b)(),h=Object(a.c)((function(e){return e.productsR.products})),O=Object(a.c)((function(e){return e.productItemR.productItem}));Object(n.useEffect)((function(){for(var e=0;e<h.length;e++)h[e].id===Number(l.id)&&b(X(h[e]))}),[]),Object(n.useEffect)((function(){for(var e=0;e<h.length;e++)h[e].id===Number(l.id)&&(O=Object(j.a)({},h[e]))}),[l.id]);return console.log(O),Object(N.jsxs)("div",{className:se.a.wrapper,children:[Object(N.jsx)("h1",{children:null===(e=O)||void 0===e?void 0:e.name}),Object(N.jsx)("div",{children:Object(N.jsx)("img",{src:null===(t=O)||void 0===t?void 0:t.imageUrl})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("b",{children:"Weight: "}),null===(c=O)||void 0===c?void 0:c.weight]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("b",{children:"Amount: "}),null===(r=O)||void 0===r?void 0:r.count]}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("b",{children:"Comments: "}),Object(N.jsx)(z.a,{variant:"outlined",onClick:function(){u(!0)},children:" Add comment"})]}),null===(i=O)||void 0===i?void 0:i.comments.map((function(e,t){return Object(N.jsx)(be,{commentI:e},t)}))]}),Object(N.jsx)(je,{commentsLength:O?O.comments.length:0,modalMode:s,setModalMode:u,productId:O?O.id:0})]})},be=function(e){var t=e.commentI,c=Object(a.b)();return Object(N.jsxs)("div",{className:se.a.wrapComment,children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{children:t.description}),Object(N.jsxs)("div",{children:[t.date.getHours()," hr"]}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:se.a.margin,children:[t.date.getMinutes()," min"]}),Object(N.jsx)(z.a,{variant:"outlined",onClick:function(){c(function(e){return function(t,c){t($(e.id)),c().productsR.products.forEach((function(t){t.id===e.productId&&t.comments.filter((function(t){return t.id!==e.id}))}))}}(t))},children:"remove"})]}),Object(N.jsx)("div",{})]})},he=function(){Object(a.b)();var e=Object(g.i)().url;Object(g.h)();return Object(N.jsx)("div",{children:Object(N.jsxs)(g.d,{children:[Object(N.jsx)(g.a,{exact:!0,from:e,to:"".concat(e,"/products")}),Object(N.jsx)(g.b,{path:"".concat(e,"/products"),render:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Y,{}),Object(N.jsx)(ae,{})]})}}),Object(N.jsx)(g.b,{path:"".concat(e,"/productItem/:id"),render:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(le,{})})}})]})})},Oe=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)(P,{}),Object(N.jsx)(he,{})]})};var me=function(){return Object(N.jsx)(a.a,{store:f,children:Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(g.d,{children:[Object(N.jsx)(g.a,{exact:!0,from:"/",to:"/content"}),Object(N.jsx)(g.b,{path:"/content",render:function(){return Object(N.jsx)(Oe,{})}}),Object(N.jsx)(g.b,{path:"*",render:function(){return Object(N.jsx)("div",{children:"Error, empty link"})}})]})})})},pe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,315)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(M.a,{children:Object(N.jsx)(me,{})})}),document.getElementById("root")),pe()},77:function(e,t,c){e.exports={wrapper:"ShowProductItemContent_wrapper__1kpz-",wrapComment:"ShowProductItemContent_wrapComment__1m5Vd",margin:"ShowProductItemContent_margin__jcHqB"}}},[[266,1,2]]]);
//# sourceMappingURL=main.bb7bd49d.chunk.js.map